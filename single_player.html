<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=800, initial-scale=1.0">
<title>AERONOM</title>
<style>
body {
    margin: 0;
    padding: 0;
    background: #1a1a2e;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    font-family: 'Courier New', monospace;
    color: #00ff00;
}
#gameContainer {
    position: relative;
    background: linear-gradient(to bottom, #16213e 0%, #0f3460 50%, #1a1a2e 100%);
    border: 3px solid #00ff00;
    box-shadow: 0 0 20px #00ff00;
}
#gameCanvas {
    display: block;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}
#ui {
    position: absolute;
    top: 10px;
    left: 0;
    width: 100%;
    text-align: center;
    color: #00ff00;
    font-size: 18px;
    text-shadow: 2px 2px 0px #000000;
    z-index: 2;
    pointer-events: none;
    user-select: none;
}
#instructions {
    position: absolute;
    bottom: 10px;
    left: 10px;
    color: #00ff00;
    font-size: 12px;
    text-shadow: 1px 1px 0px #000000;
    z-index: 2;
    pointer-events: none;
    user-select: none;
}
.splash {
    position: absolute;
    top: 0;
    left: 0;
    width: 800px;
    height: 600px;
    background: rgba(0,0,0,0.85);
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: default;
    transition: opacity 0.4s;
    pointer-events: auto;
}
.splash img {
    max-width: 90%;
    max-height: 80%;
    display: block;
    margin-bottom: 20px;
}
.fade {
    pointer-events: none;
    position: absolute;
    left: 0; top: 0;
    width: 800px; height: 600px;
    z-index: 9;
    background: #000;
    opacity: 0;
    transition: opacity 1s;
}
#musicNotice {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #00ff00;
    background: rgba(0,0,0,0.8);
    border: 2px solid #00ff00;
    padding: 24px;
    font-size: 1.3em;
    z-index: 20;
    text-shadow: 2px 2px 0 #000;
    display: none;
    pointer-events: auto;
}

/* --- Button Styles --- */
/* Base button style - apply to both directional buttons for consistency */
.game-button { /* Re-using this class name for consistent styling */
    background: #0f3460;
    color: #00ff00;
    border: 2px solid #00ff00;
    padding: 8px 16px;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 0 0 8px #00ff00;
    transition: background-color 0.2s, box-shadow 0.2s;
    pointer-events: auto;
    width: 40px; /* Fixed width for square buttons */
    height: 40px; /* Fixed height for square buttons */
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
    -webkit-tap-highlight-color: rgba(0,0,0,0); /* Remove tap highlight on mobile */
}
.game-button:hover {
    background-color: #1a1a2e;
    box-shadow: 0 0 12px #00ff00;
}
.game-button:active {
    background-color: #0a1f38;
    box-shadow: 0 0 4px #00ff00;
}

/* Splash screen button is a bit larger */
#splash-start-button {
    margin-top: 20px;
    padding: 12px 24px;
    font-size: 20px;
    background: #00ff00;
    color: #0f3460;
    border: 2px solid #0f3460;
    box-shadow: 0 0 15px #00ff00;
    width: auto; /* Override fixed width for this button */
    height: auto; /* Override fixed height for this button */
}
#splash-start-button:hover {
    background-color: #00ee00;
    box-shadow: 0 0 20px #00ff00;
}
#splash-start-button:active {
    background-color: #00cc00;
    box-shadow: 0 0 8px #00ff00;
}

/* --- Control Buttons --- */
/* Container for the Up/Down buttons on the left */
#verticalControls {
    position: absolute;
    top: 50%; /* Position vertically in the middle */
    left: 10px;
    transform: translateY(-50%); /* Adjust to truly center */
    z-index: 5;
    display: flex;
    flex-direction: column; /* Stack buttons vertically */
    gap: 10px; /* Space between UP and DOWN */
}

/* Container for the Left/Right buttons on the bottom right */
#horizontalControls {
    position: absolute;
    bottom: 10px;
    right: 10px;
    z-index: 5;
    display: flex;
    gap: 10px; /* Space between LEFT and RIGHT */
}

</style>
</head>
<body>
<div id="gameContainer">
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div id="ui">
        <span id="scorebox">SCORE: <span id="score">0</span></span>
        <span style="margin-left:32px;">LIVES: <span id="lives">3</span></span>
        <span style="margin-left:32px;">LEVEL: <span id="level">1</span></span>
        <span style="margin-left:32px;">STATUS: <span id="status">MONITORING</span></span>
    </div>
    <div id="instructions">
        Avoid Flares | Collect Emission Data<br>
    </div>
    <div id="splash" class="splash">
        <img id="splash-img" src="" alt="Splash">
        <button id="splash-start-button" class="game-button">START MISSION</button>
    </div>
    <div id="fade" class="fade"></div>
    <div id="musicNotice">Click anywhere to enable background music!</div>

    <div id="verticalControls">
        <button id="upButton" class="game-button">▲</button>
        <button id="downButton" class="game-button">▼</button>
    </div>

    <div id="horizontalControls">
        <button id="leftButton" class="game-button">◀</button>
        <button id="rightButton" class="game-button">▶</button>
    </div>

</div>
<audio id="bg-music" src="" preload="auto"></audio>
<script>
// --- Asset paths ---
const ASSETS = {
    splash: {
        start: 'splash_start1.png',
        gameover: 'splash_gameover.png',
        victory: 'splash_victory.png'
    },
    bg: [
        'refinery_background.png',
        'level2_background.png',
        'level3_background.png'
    ]
};

// --- Music files (edit this list to match your mp3 files) ---
const MUSIC_FILES = [
    "song1.mp3",
    "song2.mp3",
    "song3.mp3",
